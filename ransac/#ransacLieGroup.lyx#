#LyX 2.1 created this file. For more info see http://www.lyx.org/
\lyxformat 474
\begin_document
\begin_header
\textclass IEEEtran
\options onecolumn
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_math auto
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 2
\use_package amssymb 2
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 1in
\topmargin 1in
\rightmargin 1in
\bottommargin 1in
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
R-RANSAC with Matrix Lie Groups
\end_layout

\begin_layout Section
Introduction
\end_layout

\begin_layout Standard
This note assumes the reader has a basic understanding of the theory relating
 to Matrix Lie Groups and their corresponding Lie algebras.
 This includes the matrix exponential and logarithm map, the vector space
 isomorphic to specific Lie algebras, the adjoint of the group and the algebra,
 and the left and right Jacobians.
 It also assumes that the reader has a basic understanding of R-RANSAC.
\end_layout

\begin_layout Section
Terminology, Parameters, and Notation
\end_layout

\begin_layout Subsection
Terminology
\end_layout

\begin_layout Standard
R-RANSAC has very specific terminology that we that will facilitate the
 discussion in this note.
 We now present the main terminology.
\end_layout

\begin_layout Itemize

\series bold
Target
\series default
: A physical object that has the capability of moving.
\end_layout

\begin_layout Itemize

\series bold
Measurement Source
\series default
: A sensor equipped with an algorithm that captures information from the
 environment and produces meaningful measurements used to observe the target.
\end_layout

\begin_layout Itemize

\series bold
Surveillance Region
\series default
: The portion of the environment that is observable by the measurement sources.
 There is a local surveillance region (LSR) for each measurement source
 and a global surveillance region (GSR) that is a union of all the local
 surveillance regions.
 
\end_layout

\begin_layout Itemize

\series bold
Frame of reference
\series default
: Consists of an abstract coordinate system and the set of physical reference
 points that uniquely fix (locate and orient) the coordinate system and
 standardize measurements within that frame.
 We will often refer to a frame of reference as just 
\series bold
frame
\series default
.
\end_layout

\begin_layout Itemize

\series bold
Local Frame
\series default
: The frame that coincides with a local surveillance region.
\end_layout

\begin_layout Itemize

\series bold
Global Frame
\series default
: The frame that coincides with the global surveillance region.
 It is possible that the global frame is the same as a local frame.
\end_layout

\begin_layout Itemize

\series bold
Sensor Scan
\series default
: When a sensor observes its surveillance region and extracts meaningful
 data.
 For example, the sensor scan of a camera occurs when the camera produces
 a new image of its surveillance region.
\end_layout

\begin_layout Itemize

\series bold
False Measurement
\series default
: A measurement extracted from a sensor scan that does not correspond to
 a phenomenon of interest.
 For example, motion in a camera can generate false measurements due to
 parallax depending on the algorithm.
 Another example is just noisy sensors.
\end_layout

\begin_layout Itemize

\series bold
True Measurement
\series default
: A measurement extracted from a sensor scan that corresponds to a phenomenon
 of interest.
\end_layout

\begin_layout Itemize

\series bold
Model
\series default
: This is simply a model of the phenomenon.
 In regards to target tracking, a model is referred to as a 
\series bold
track
\series default
.
\end_layout

\begin_layout Itemize

\series bold
Model Hypothesis
\series default
: This is a hypothetical model of the phenomenon (i.e.
 a possible model) created by the RANSAC algorithm.
 A model hypothesis that meets certain criteria becomes a model.
 In regards to target tracking, a model hypothesis is referred to as a 
\series bold
track
\series default
 
\series bold
hypothesis
\series default
.
 We will often abbreviate the term and mention only 
\series bold
hypothesis
\series default
.
\end_layout

\begin_layout Itemize

\series bold
Good
\series default
 
\series bold
Model
\series default
: A model that is deemed very likely to correctly describe a phenomenon,
 based on predefined criteria, becomes a good model.
 In regards to target tracking, a good model is referred to as a 
\series bold
good
\series default
 
\series bold
track
\series default
.
\end_layout

\begin_layout Itemize

\series bold
Poor
\series default
 
\series bold
Model
\series default
: A model that is not a good model.
 In regards to target tracking, a poor model is referred to as a 
\series bold
poor
\series default
 
\series bold
track
\series default
.
\end_layout

\begin_layout Itemize

\series bold
Time Window
\series default
: An interval of time extending into the past from the current time.
\end_layout

\begin_layout Itemize

\series bold
Expired
\series default
 
\series bold
Measurement
\series default
: A measurement that was observed in the past outside the time window.
\end_layout

\begin_layout Itemize

\series bold
Measurement
\series default
 
\series bold
Source
\series default
: An algorithm that takes sensor data and produces a measurement.
 We will often refer to a measurement source as just a source.
\end_layout

\begin_layout Standard
Don't worry if some of the terms do not make much sense now.
 We will elaborate on them later in the text.
\end_layout

\begin_layout Subsection
Parameters
\end_layout

\begin_layout Standard
There are various parameters used throughout R-RANSAC.
 A parameter can either be a scalar or a tuple.
 In case the context doesn't make it clear, we will specify which one is
 a scalar and a tuple.
 
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
noindent
\end_layout

\end_inset

 RANSAC parameters
\end_layout

\begin_layout Itemize
\begin_inset Formula $\ell$
\end_inset

 - max iterations
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{E}$
\end_inset

 - RANSAC early termination threshold
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{I}$
\end_inset

 - RANSAC inlier threshold
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{T}$
\end_inset

 - RANSAC track consensus set threshold
\end_layout

\begin_layout Standard
Cluster parameters
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{D}$
\end_inset

 - neighborhood distance threshold
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{C}$
\end_inset

 - cluster min cardinality threshold
\end_layout

\begin_layout Standard
Model Management Parameters
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{S}$
\end_inset

 - Similarity merge threshold
\end_layout

\begin_layout Itemize
\begin_inset Formula $\tau_{\rho}$
\end_inset

 - Good track threshold
\end_layout

\begin_layout Standard
JPDAF
\end_layout

\begin_layout Itemize
\begin_inset Formula $P_{D}$
\end_inset

 - Probability of detection
\end_layout

\begin_layout Itemize
\begin_inset Formula $P_{G}$
\end_inset

 - Probability of being in the validation region
\end_layout

\begin_layout Itemize
\begin_inset Formula $\lambda_{E}$
\end_inset

 - Expected number of false measurements from a measurement source per sensor
 scan.
\end_layout

\begin_layout Standard
Other
\end_layout

\begin_layout Itemize
\begin_inset Formula $T_{W}$
\end_inset

 - Time window
\end_layout

\begin_layout Itemize
\begin_inset Formula $M$
\end_inset

 - The number of models
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Subsection
Notation
\end_layout

\begin_layout Standard
In this note we are assuming a discrete system whose measurements arrive
 at non-fixed time intervals.
 We denote the current time using a subscript 
\begin_inset Formula $k$
\end_inset

, the previous time using a subscript 
\begin_inset Formula $k^{-}$
\end_inset

, and a previous time using the subscript 
\begin_inset Formula $m$
\end_inset

 such that 
\begin_inset Formula $m\leq k$
\end_inset

.
 We denote the time at the beginning of the time window using 
\begin_inset Formula $0$
\end_inset

.
 For example 
\begin_inset Formula $x_{0}$
\end_inset

 is the state of the system at the beginning of the time window.
 Let 
\begin_inset Formula $\delta_{k}$
\end_inset

 denote the time elapsed from 
\begin_inset Formula $k^{-}$
\end_inset

 to 
\begin_inset Formula $k$
\end_inset

, and 
\begin_inset Formula $\delta_{m:k}$
\end_inset

 denote the time elapsed from 
\begin_inset Formula $m$
\end_inset

 to 
\begin_inset Formula $k$
\end_inset

.
 Note that 
\begin_inset Formula $\delta_{m:k},\delta_{k^{-}}\geq0$
\end_inset

.
 Lastly, let 
\begin_inset Formula $\delta_{-k}=-\delta_{k}$
\end_inset

 and 
\begin_inset Formula $\delta_{k:m}=-\delta_{m:k}$
\end_inset

.
\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $G$
\end_inset

 denote a Lie group.
\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $\mathfrak{g}$
\end_inset

 denote the Lie algebra of 
\begin_inset Formula $G$
\end_inset

.
\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $V$
\end_inset

 denote the vector space isomorphic to 
\begin_inset Formula $\mathfrak{g}$
\end_inset


\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $\boxplus:G\times\mathfrak{g}\to\mathfrak{g}$
\end_inset

 be defined as 
\begin_inset Formula $\left(g,u\right)\mapsto g\exp\left(u\right)$
\end_inset


\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $\boxminus:G\times G\to\mathfrak{g}$
\end_inset

 be defined as 
\begin_inset Formula $\left(g_{1},g_{2}\right)\mapsto\log\left(g_{2}^{-1}\bullet g_{1}\right)$
\end_inset

 where the operator 
\begin_inset Formula $\bullet$
\end_inset

 is matrix multiplication.
\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $\left[\cdot\right]_{\times}:\mathbb{R}^{n}\to\mathbb{R}^{n}\times\mathbb{R}^{n}$
\end_inset

 be the map that takes elements of 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

 and maps them into skew symmetric matrix in 
\begin_inset Formula $\mathbb{R}^{n}\times\mathbb{R}^{n}$
\end_inset

 written as 
\begin_inset Formula $\left[a\right]_{\times}$
\end_inset

 where 
\begin_inset Formula $a\in\mathbb{R}^{n}$
\end_inset

.
\end_layout

\begin_layout Itemize
Let the adjoint of the group be denoted 
\begin_inset Formula $Ad:G\times G\to G$
\end_inset

 and defined as 
\begin_inset Formula $\left(g_{1},g_{2}\right)\mapsto g_{1}g_{2}g_{1}^{-1}$
\end_inset

.
 A variant of the map is 
\begin_inset Formula $Ad_{g_{1}}:G\to G$
\end_inset

 defined as 
\begin_inset Formula $\left(g_{2}\right)\mapsto g_{1}g_{2}g_{1}^{-1}$
\end_inset

.
\end_layout

\begin_layout Itemize
Let the adjoint of the Lie algebra be denoted 
\begin_inset Formula $ad:G\times\mathfrak{g}\to\mathfrak{g}$
\end_inset

 and defined as 
\begin_inset Formula $\left(g,u\right)\mapsto gug^{-1}$
\end_inset

.
 A variant of the map is 
\begin_inset Formula $ad_{g}:\mathfrak{g}\to\mathfrak{g}$
\end_inset

 and is defined as 
\begin_inset Formula $\left(u\right)\mapsto gug^{-1}$
\end_inset

.
\end_layout

\begin_layout Itemize
Let 
\begin_inset Formula $p\left(x\right)$
\end_inset

 denote the probability of 
\begin_inset Formula $x$
\end_inset

, 
\begin_inset Formula $p\left(x,y\right)$
\end_inset

 the joint probability of 
\begin_inset Formula $x$
\end_inset

 and 
\begin_inset Formula $y$
\end_inset

, and 
\begin_inset Formula $p\left(x|y\right)$
\end_inset

 the probability of 
\begin_inset Formula $x$
\end_inset

 conditioned on 
\begin_inset Formula $y$
\end_inset

.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $\psi_{k}^{i}$
\end_inset

 The set of measurements received at time 
\begin_inset Formula $k$
\end_inset

 from the 
\begin_inset Formula $i^{th}$
\end_inset

 measurement sensor.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Psi_{k}$
\end_inset

 The set of measurements received at time 
\begin_inset Formula $k$
\end_inset

.
 
\begin_inset Formula $\Psi_{k}=\cup_{i\in J}\psi_{k}^{i}$
\end_inset

 where 
\begin_inset Formula $J$
\end_inset

 is an index associated with the measurement sources.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Psi_{m:k}$
\end_inset

 The set of measurements received from time 
\begin_inset Formula $m$
\end_inset

 to time 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Itemize
\begin_inset Formula $\Psi_{T_{W}}$
\end_inset

 The set of measurements received over the current time window.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $Y^{i}$
\end_inset

 The set of measurements pertaining to the 
\begin_inset Formula $i^{th}$
\end_inset

 cluster during the time window.
\end_layout

\begin_layout Itemize
\begin_inset Formula $y_{0:k}^{i}$
\end_inset

 A minimum subset of 
\begin_inset Formula $Y^{i}$
\end_inset

 such that the model can be observed using the measurements from 
\begin_inset Formula $y_{0:k}^{i}$
\end_inset

.
 One measurement from 
\begin_inset Formula $y_{0:k}^{i}$
\end_inset

 must be a new measurement and the others are randomly sampled from 
\begin_inset Formula $Y^{i}$
\end_inset

.
\end_layout

\begin_layout Section
Lie Theory Review
\end_layout

\begin_layout Standard
The objective of this section is to provide a review of the important concepts
 of Lie theory that we will use along with the notation.
 We assume that the reader is familiar with Lie group and Lie algebra theory.
 For those unfamiliar with this material, we refer the interested reader
 primarily to 
\begin_inset CommandInset citation
LatexCommand cite
key "Sola2018"

\end_inset

.
 Solá offers a very gentle introduction to Lie theory that covers the majority
 of information needed to understand this paper.
 We also follow much of the notation prescribed by Solá and Hertzberg who
 proposed the box plus and minus notation in 
\begin_inset CommandInset citation
LatexCommand cite
key "Hertzberg2013"

\end_inset

.
 For those who are interested in a more rigorous treatment of Lie theory,
 we refer the reader to 
\begin_inset CommandInset citation
LatexCommand cite
key "Barfoot2019,Stillwell2008,Hall2003,Bullo2005a,Lee2013,Abraham1998"

\end_inset

.
 In this document we will focus on targets with a discrete system model
 and constant velocity, this is merely to simplify the presentation of the
 material.
 With no loss in generality, everything we present can be extended to targets
 with a continuous system model and constant acceleration by using a semidirect
 product group formed from a Lie group and its Lie algebra to form a new
 Lie group and numerical integration on the manifold.
 Engo in 
\begin_inset CommandInset citation
LatexCommand cite
key "Engo2003"

\end_inset

 provides a good overview of the semidirect product group formed from a
 Lie group and its Lie algebra in addition to numerical integration on the
 manifold using the Runge-Kutta-Munthe-Kaas method originally developed
 in the series of papers 
\begin_inset CommandInset citation
LatexCommand cite
key "Munthe-Kaas1995,Munthe-Kaas1998,Munthe-Kaas1999"

\end_inset

.
 
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $G$
\end_inset

 denote a Lie group and 
\begin_inset Formula $\mathfrak{g}$
\end_inset

 denote it's corresponding Lie algebra.
 The exponential map maps elements of the Lie algebra to an element of the
 Lie group, and the logarithmic map is the inverse of the exponential map
 and are defined as
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset

 
\begin_inset Formula 
\begin{align*}
\exp:\mathfrak{g} & \to G\\
\log:G & \to\mathfrak{g}.
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

Depending on the Lie group, these functions may only be defined locally
 around the identity.
 
\end_layout

\begin_layout Standard
The Lie algebra is isomorphic to the Euclidean space 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

 where 
\begin_inset Formula $n$
\end_inset

 is the dimension of the Lie algebra.
 We will denote this Euclidean space as 
\begin_inset Formula $E$
\end_inset

.
 The Wedge function maps an element from the Euclidean space to the Lie
 algebra, and the Vee function is the inverse function which are defined
 as
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset

 
\begin_inset Formula 
\begin{align*}
\cdot^{\wedge}:E\to\mathfrak{g} & \quad\left(v\right)\mapsto v^{\wedge}\\
\cdot^{\vee}:\mathfrak{g}\to V & \quad\left(v^{\wedge}\right)^{\vee}\mapsto v.
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset

.
 To distinguish between an element of a Lie algebra and an element of the
 corresponding Euclidean space, the element of the Lie group will always
 be accompanied by the Vee.
 For example, let 
\begin_inset Formula $v\in E$
\end_inset

 then we denote the corresponding element in the Lie algebra as 
\begin_inset Formula $v^{\wedge}\in\mathfrak{g}$
\end_inset

.
\end_layout

\begin_layout Standard
When working with the Euclidean space, we define additional the exponential
 and logarithmic maps as 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset

 
\begin_inset Formula 
\begin{align*}
\text{Exp}:E\to G & \quad\left(v\right)\mapsto\exp\left(v^{\wedge}\right)\\
\text{Log}:G\to V & \quad\left(g\right)\mapsto\log\left(g\right)^{\vee}.
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Other functions of importance are the box-plus/minus and the o-plus/minus
 defined as 
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset

 
\begin_inset Formula 
\begin{align*}
\boxplus:G\times\mathfrak{g}\to G & \quad\left(g,v^{\wedge}\right)\mapsto g\bullet\exp\left(v^{\wedge}\right)\\
\boxminus:G\times G\to\mathfrak{g} & \quad\left(g,h\right)\mapsto\log\left(h^{-1}\bullet g\right)\\
\oplus:G\times E\to G & \quad\left(g,v\right)\mapsto g\bullet\text{Exp}\left(v\right)\\
\ominus:G\times G\to E & \quad\left(g,h\right)\mapsto\text{Log}\left(h^{-1}\bullet g\right).
\end{align*}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset

 where 
\begin_inset Formula $\bullet$
\end_inset

 represents the group operator which we will omit in the future, and 
\begin_inset Formula $h^{-1}$
\end_inset

 is the inverse element of 
\begin_inset Formula $h$
\end_inset

.
 We have based the definition of these function on left trivializations
 (using vector fields that are left invariant).
 They could also be defined on right trivializations (using vector fields
 that are right invariant).
 
\end_layout

\begin_layout Standard
The big adjoint is a representation of 
\begin_inset Formula $G$
\end_inset

 that acts on the Lie algebra defined as 
\begin_inset Formula 
\begin{align*}
Ad_{g}:\mathfrak{g} & \to\mathfrak{g}\quad\left(v^{\wedge}\right)\mapsto gv^{\wedge}g^{-1}
\end{align*}

\end_inset

where 
\begin_inset Formula $g\in G$
\end_inset

.
 Since the big adjoint is a linear function, we can find a matrix version
 that operates on the associated Euclidean space defined as 
\begin_inset Formula 
\[
\mathbf{Ad}_{g}:E\to E\quad\left(v\right)\mapsto\mathbf{Ad}_{g}v
\]

\end_inset

where 
\begin_inset Formula $\mathbf{Ad}_{g}$
\end_inset

 is the matrix adjoint representation of 
\begin_inset Formula $G$
\end_inset

.
 
\end_layout

\begin_layout Standard
The little adjoint is a representation of 
\begin_inset Formula $\mathfrak{g}$
\end_inset

 that acts on itself.
 It is also the Lie bracket 
\begin_inset Formula $\left[\cdot,\cdot\right]$
\end_inset

 which we will also denote as 
\begin_inset Formula 
\[
ad_{v^{\wedge}}:\mathfrak{g}\to\mathfrak{g}\quad\left(u^{\wedge}\right)\mapsto\left[u^{\wedge},v^{\wedge}\right]
\]

\end_inset

where 
\begin_inset Formula $v^{\wedge}\in\mathfrak{g}$
\end_inset

.
 Since the little adjoint is a linear function, we can find a matrix version
 that operates on the space 
\begin_inset Formula $V$
\end_inset

 defined as 
\begin_inset Formula 
\[
\mathbf{ad}_{v^{\wedge}}:V\to V\quad\left(u\right)\mapsto\mathbf{ad}_{v^{\wedge}}u
\]

\end_inset


\end_layout

\begin_layout Standard
where 
\begin_inset Formula $\mathbf{ad}_{v^{\wedge}}$
\end_inset

 is the matrix adjoint representation of 
\begin_inset Formula $\mathfrak{g}$
\end_inset

.
 We understand that we have abused notation, but we believe that our meaning
 is clear.
\end_layout

\begin_layout Standard
As stated in 
\begin_inset CommandInset citation
LatexCommand cite
key "Iserles2000a"

\end_inset

, we can defined the differential of the exponential mapping as the 'left
 trivialized' tangent of the exponential map or as the right trivialized'
 tangent of the exponential map.
 These differentials are also commonly called the right and left Jacobians.
 Since we are defining everything using the left trivialization, we will
 define only the right Jacobian, 
\begin_inset Formula $J_{r}:V\to GL\left(V\right)$
\end_inset

, using a similar definition in 
\begin_inset CommandInset citation
LatexCommand cite
key "Sola2018"

\end_inset

.
\begin_inset Formula 
\[
J_{r}\left(v\right)=\frac{^{r}\partial\text{Exp}\left(v\right)}{\partial\tau}.
\]

\end_inset

Since the space 
\begin_inset Formula $V$
\end_inset

 is isomorphic to the Lie algebra, we can easily define a right Jacobian
 
\begin_inset Formula $J_{r}\left(v^{\wedge}\right):\mathfrak{g}\to GL\left(\mathfrak{g}\right)$
\end_inset

, where we overloaded the notation 
\begin_inset Formula $J_{r}$
\end_inset

, to be 
\begin_inset Formula 
\[
J_{r}\left(v^{\wedge}\right)=J_{r}\left(\left(v^{\wedge}\right)^{\vee}\right)^{\wedge}.
\]

\end_inset

 The right Jacobian has the property that for small 
\begin_inset Formula $u\in V$
\end_inset

 given 
\begin_inset Formula $v\in V$
\end_inset

 we get that 
\begin_inset Formula 
\begin{align*}
\text{Exp}\left(v+u\right) & \approx\text{Exp}\left(v\right)\text{Exp}\left(J_{r}\left(v\right)u\right)\\
\text{Exp}\left(v\right)\text{Exp}\left(u\right) & \approx\text{Exp}\left(v+J_{r}^{-1}\left(v\right)u\right)\\
\text{Log}\left(\text{Exp}\left(v\right)\text{Exp}\left(u\right)\right) & \approx v+J_{r}^{-1}\left(v\right)u,
\end{align*}

\end_inset

where 
\begin_inset Formula $J_{r}^{-1}$
\end_inset

 is the inverse Jacobian.
 The derivation of the left and right Jacobians stems from the Baker-Campbell-Ha
usdorff formula and can be studied in 
\begin_inset CommandInset citation
LatexCommand cite
key "Barfoot2019"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand cite
key "Hall2003"

\end_inset

.
 
\end_layout

\begin_layout Section
Problem Description
\end_layout

\begin_layout Standard
We assume a discrete, constant velocity, time invariant system of the form
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "eq:system"

\end_inset

 
\begin_inset Formula 
\begin{align}
x_{k} & =f\left(x_{k^{-}},w_{k},\delta_{k}\right)\\
y_{k} & =h\left(x_{k},v_{k}\right)+v_{k}
\end{align}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset


\begin_inset Formula $x_{k}=\left(g_{k},u\right)$
\end_inset

 is the state of the system at time 
\begin_inset Formula $k$
\end_inset

, 
\begin_inset Formula $g_{k}\in G$
\end_inset

 is the pose of the system at time 
\begin_inset Formula $k$
\end_inset

, 
\begin_inset Formula $u^{\wedge}\in\mathfrak{g}$
\end_inset

 is the constant velocity of the system, 
\begin_inset Formula $f$
\end_inset

 the system model defined as 
\begin_inset Formula 
\begin{equation}
f\left(x_{k^{-}},w_{k},\delta_{k}\right)=\left(g_{k^{-}}\oplus\left(\delta_{k}u+\delta_{k}w_{k}\right),u\right)\label{eq:system_model}
\end{equation}

\end_inset


\begin_inset Formula $y_{k}\in N$
\end_inset

 is the output and 
\begin_inset Formula $N$
\end_inset

 is a Lie group, 
\begin_inset Formula $h:G\to M$
\end_inset

 is the observation model, 
\begin_inset Formula $w_{k}$
\end_inset

 is process noise and 
\begin_inset Formula $v_{k}$
\end_inset

 is measurement noise sampled from a zero-mean, white-noise, Gaussian distributi
on with covariance 
\begin_inset Formula $Q$
\end_inset

 (respectively 
\begin_inset Formula $R$
\end_inset

).
\end_layout

\begin_layout Standard
The state 
\begin_inset Formula $x=\left(g,u\right)$
\end_inset

 is a new Lie group generated from the Cartesian product of 
\begin_inset Formula $G$
\end_inset

 and 
\begin_inset Formula $\mathfrak{g}$
\end_inset

.
 The Lie algebra of 
\begin_inset Formula $G\times\mathfrak{g}$
\end_inset

 is simply 
\begin_inset Formula $\mathfrak{g}\times\mathfrak{g}$
\end_inset

 which is isomorphic to 
\begin_inset Formula $\mathbb{R}^{m}$
\end_inset

 for some 
\begin_inset Formula $m$
\end_inset

 which we will denote as 
\begin_inset Formula $\bar{E}$
\end_inset

.
 All of the operations previously defined are simply inherited.
 For example, let 
\begin_inset Formula $x\in G\times\mathfrak{g}$
\end_inset

 and 
\begin_inset Formula $v\in\bar{E}$
\end_inset

, then 
\begin_inset Formula 
\begin{align*}
x\oplus v & =\left(g,u\right)\oplus\left(a,b\right)\\
 & =\left(g\text{Exp}\left(a\right),u+b\right),
\end{align*}

\end_inset

where 
\begin_inset Formula $g\in G$
\end_inset

, and 
\begin_inset Formula $u,a,b\in E$
\end_inset

.
\end_layout

\begin_layout Standard
Given a set of measurements 
\begin_inset Formula $\Psi_{T_{W}}$
\end_inset

 which contains true and false measurements, we want to estimate the current
 state of the system.
\end_layout

\begin_layout Section
Lie Group Probability
\end_layout

\begin_layout Standard
Given our model defined in 
\begin_inset CommandInset ref
LatexCommand eqref
reference "eq:system"

\end_inset

 we need to know how to calculate certain probabilities that will be useful
 when propagating the system forward in time and updating the state estimate
 when more measurements are received.
 We follow the convention, notation and terminology from 
\begin_inset CommandInset citation
LatexCommand cite
key "Reid2001,Reid2001a,Thrun2006"

\end_inset

 adapted for the Lie group setting.
\end_layout

\begin_layout Standard
We denote the state estimate at time 
\begin_inset Formula $m$
\end_inset

 as 
\begin_inset Formula $\hat{x}_{m}\in G\times\mathfrak{g}$
\end_inset

 and the actual state at time 
\begin_inset Formula $m$
\end_inset

 as 
\begin_inset Formula $x_{m}\in G\times\mathfrak{g}$
\end_inset

.
 Let 
\begin_inset Formula $\delta x_{m}\in\bar{V}$
\end_inset

 denote a local perturbation around 
\begin_inset Formula $\hat{x}_{m}$
\end_inset

 that is a zero-mean, Gaussian, random variable with error covariance 
\begin_inset Formula $P_{m}$
\end_inset

 such that 
\begin_inset Formula 
\[
x_{m}=\hat{x}_{m}\oplus\delta x_{m}.
\]

\end_inset


\end_layout

\begin_layout Standard
We denote the prior distribution, or the belief distribution as 
\begin_inset Formula $p\left(x_{m}\right)$
\end_inset

 and define it as 
\begin_inset Formula 
\begin{align*}
p\left(x_{m}\right) & =\eta\exp\left(-\frac{1}{2}\left(x_{m}\ominus\hat{x}_{m}\right)^{\top}P_{m}^{-1}\left(x_{m}\ominus\hat{x}_{m}\right)\right)\\
 & =\eta\exp\left(-\frac{1}{2}\delta x_{m}^{\top}P_{m}^{-1}\delta x\right),
\end{align*}

\end_inset

where 
\begin_inset Formula $\eta$
\end_inset

 is a normalizing coefficient corresponding to the Gaussian distribution.
 We will overload 
\begin_inset Formula $\eta$
\end_inset

 to define any normalizing coefficient.
 We denote the state transition probability as 
\begin_inset Formula $p\left(x_{m}\mid x_{m^{-}}\right)$
\end_inset

 and define it as 
\begin_inset Formula 
\[
p\left(x_{m}\mid x_{m^{-}}\right)=\eta\exp\left(-\frac{1}{2}\left(x_{m}\ominus f\left(x_{m^{-}},w_{k},\delta_{m}\right)\right)^{\top}\bar{Q}^{-1}\left(x_{m}\ominus f\left(x_{m^{-}},w_{k},\delta_{m}\right)\right)\right),
\]

\end_inset

where 
\begin_inset Formula $\bar{Q}^{-1}$
\end_inset

 is positive semi-definite defined as 
\begin_inset Formula 
\[
\bar{Q}^{-1}=\begin{bmatrix}Q^{-1} & 0\\
0 & 0
\end{bmatrix}.
\]

\end_inset

It is often useful to approximate the probability by using the Taylor series
 expansion of 
\begin_inset Formula $x_{m}\ominus f\left(x_{m^{-}}\right)$
\end_inset

 treating 
\begin_inset Formula $\delta k_{m^{-}}$
\end_inset

 and 
\begin_inset Formula $w_{k}$
\end_inset

 as perturbations.
 Doing so, yields
\begin_inset Formula 
\[
p\left(x_{m}\mid x_{m^{-}}\right)\approx\eta\exp\left(-\frac{1}{2}\left(x_{m}\ominus f\left(\hat{x}_{m^{-}},\hat{w}_{m},\delta_{m}\right)+F_{m}\delta x_{m^{-}}+G_{m}\delta_{m}w_{m}\right)^{\top}\bar{Q}^{-1}\left(x_{m}\ominus f\left(\hat{x}_{m^{-}},\hat{w}_{m},\delta_{m}\right)+F_{m}\delta x_{m^{-}}+G_{m}\delta_{m}w_{m}\right)\right),
\]

\end_inset

where 
\begin_inset Formula 
\begin{align*}
F_{m} & =\left.\frac{\partial x_{m}\ominus f\left(x_{m^{-}},w_{k},\delta_{m}\right)}{\partial x_{m^{-}}}\right|_{\hat{x}_{m^{-}},\hat{w}_{m},\delta_{m}}\\
 & =\begin{bmatrix}\mathbf{Ad}_{\text{Exp}\left(\delta_{m}\hat{u}_{m^{-}}\right)^{-1}}\\
J_{r}\left(\delta_{m}\hat{u}_{m^{-}}\right)
\end{bmatrix},
\end{align*}

\end_inset

and
\begin_inset Formula 
\begin{align*}
G_{m} & =\left.\frac{\partial x_{m}\ominus f\left(x_{m^{-}},w_{k},\delta_{m}\right)}{\partial w_{m}}\right|_{\hat{x}_{m^{-}},\hat{w}_{m},\delta_{m}}\\
 & =\begin{bmatrix}J_{r}\left(\delta_{m}\hat{u}_{m^{-}}\right)\\
0
\end{bmatrix},
\end{align*}

\end_inset

where 
\begin_inset Formula $\hat{w}$
\end_inset

 is the expected value of the process noise which is zero.
 
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $\bar{p}\left(x_{m}\right)$
\end_inset

 denote the probability of 
\begin_inset Formula $x_{m}$
\end_inset

 after state propagation.
 It is calculated as 
\begin_inset Formula 
\[
\bar{p}\left(x_{m}\right)=\int p\left(x_{m}\mid x_{m^{-}}\right)p\left(x_{m^{-}}\right)dx_{m^{-}}.
\]

\end_inset

By using the Taylor series expansion to estimate 
\begin_inset Formula $p\left(x_{m}\mid x_{m^{-}}\right)$
\end_inset

, we can approximate 
\begin_inset Formula $\bar{p}\left(x_{m}\right)$
\end_inset

 using a Gaussian distribution which is parametrized by the new state estimate
 
\begin_inset Formula $\hat{\bar{x}}_{m}$
\end_inset

 and error covariance 
\begin_inset Formula $\bar{P}_{m}$
\end_inset

.
 We will not include the tedious derivation, but refer the reader to 
\begin_inset CommandInset citation
LatexCommand cite
key "Thrun2006"

\end_inset

.
 The new state estimate and error covariance is calculated as 
\begin_inset Formula 
\begin{align*}
\hat{\bar{x}}_{m} & =f\left(\hat{x}_{m^{-}},\hat{w}_{m},\delta_{m}\right)\\
\bar{P}_{m} & =F_{m}P_{m^{-}}F_{m}^{\top}+G_{m}QG_{m}^{\top},
\end{align*}

\end_inset

where 
\begin_inset Formula $Q$
\end_inset

 is we will refer to this as the propagation or the prediction step.
\end_layout

\begin_layout Standard
The probability of a measurement conditioned on the state is called the
 measurement probability or likelihood and is denoted as 
\begin_inset Formula $p\left(y_{m}\mid x_{m}\right)$
\end_inset

.
 We stated earlier that for our system, the output 
\begin_inset Formula $y_{m}$
\end_inset

 is an element of a Lie group, but not necessarily the same Lie group as
 
\begin_inset Formula $x_{m}$
\end_inset

.
 The measurement probability is defined as 
\begin_inset Formula 
\[
p\left(y_{m}\mid x_{m}\right)=\eta\exp\left(-\frac{1}{2}\left(y_{m}\ominus h\left(x_{m},v_{m}\right)\right)^{\top}R^{-1}\left(y_{m}\ominus h\left(x_{m},y_{m}\right)\right)\right).
\]

\end_inset

We can linearize the measurement probability to get 
\begin_inset Formula 
\[
p\left(y_{m}\mid x_{m}\right)\approx\eta\exp\left(-\frac{1}{2}\left(e+H_{m}\delta x_{m}+V_{m}v_{m}\right)^{\top}R^{-1}\left(e+H_{m}\delta x_{m}+V_{m}v_{m}\right)\right)
\]

\end_inset

where
\begin_inset Formula 
\[
e=y_{m}\ominus h\left(\hat{x}_{m},\hat{v}_{m}\right),
\]

\end_inset

 
\begin_inset Formula 
\begin{align*}
H_{m} & =\left.\frac{\partial y_{m}\ominus h\left(x_{m},v_{m}\right)}{\partial x_{m}}\right|_{\hat{x}_{m},\hat{v}_{m}},\\
 & =\left.\frac{\partial\log\left(z\right)}{\partial z}\frac{\partial z}{\partial h^{-1}\left(x_{m},v_{m}\right)}\frac{\partial h\left(x_{m},v_{m}\right)}{\partial x_{m}}\right|_{\hat{x}_{m},\hat{v}_{m}}\\
 & =J_{r}^{-1}\left(z\right)\mathbf{Ad}_{y_{m}^{-1}}\left.\frac{\partial h\left(x_{m},v_{m}\right)}{\partial x_{m}}\right|_{\hat{x}_{m},\hat{v}_{m}}
\end{align*}

\end_inset


\begin_inset Formula 
\begin{align*}
V_{m} & =\left.\frac{\partial y_{m}\ominus h\left(x_{m},v_{m}\right)}{\partial v_{m}}\right|_{\hat{x}_{m},\hat{v}_{m}},\\
 & =J_{r}^{-1}\left(z\right)\mathbf{Ad}_{y_{m}^{-1}}\left.\frac{\partial h\left(x_{m},v_{m}\right)}{\partial v_{m}}\right|_{\hat{x}_{m},\hat{v}_{m}}
\end{align*}

\end_inset

 
\begin_inset Formula $z=y_{m}\ominus h\left(x_{m},v_{m}\right)$
\end_inset

 and 
\begin_inset Formula $\hat{v}_{m}$
\end_inset

 is the expected value of the measurement noise which is zero.
\end_layout

\begin_layout Standard
The probability of the state given a measurement is called the posterior
 and is denoted 
\begin_inset Formula $p\left(x\mid y\right)$
\end_inset

 and is defined as 
\begin_inset Formula 
\[
p\left(x\mid y\right)=\frac{p\left(y\mid x\right)\bar{p}\left(x\right)}{p\left(y\right)}.
\]

\end_inset

We improve the state estimate 
\begin_inset Formula $\hat{x}_{m}$
\end_inset

 by maximizing the posterior distribution.
 This process is outlined in 
\begin_inset CommandInset citation
LatexCommand cite
key "Thrun2006"

\end_inset

 which gives us the standard Kalman filter update step:
\begin_inset Formula 
\begin{align*}
e & =y_{m}\ominus h\left(x_{m},v_{m}\right)\\
Z & =H_{m}\bar{P}_{m}H_{m}^{\top}+V_{m}RV_{m}^{\top}\\
K & =\bar{P}_{m}H_{m}^{\top}Z^{-1}\\
\delta x_{m} & =Ke\\
\hat{x}_{m} & =\hat{\bar{x}}_{m}\oplus\delta x_{m}\\
P_{m} & =P_{m}-KZK^{\top}.
\end{align*}

\end_inset

Depending on the data associating filter used, the update step will be different
; however, the underlying basic idea is the same which will require computing
 the Jacobians 
\begin_inset Formula $F_{m}$
\end_inset

, 
\begin_inset Formula $G_{m}$
\end_inset

, 
\begin_inset Formula $H_{m}$
\end_inset

 and 
\begin_inset Formula $V_{m}$
\end_inset

.
\end_layout

\begin_layout Section
Log Maximum Likelihood Estimate
\end_layout

\begin_layout Standard
We use the log maximum likelihood estimate (LMLE) in order to generate model
 hypotheses.
 Let 
\begin_inset Formula $Y^{i}$
\end_inset

 denote the set of measurement belonging to the 
\begin_inset Formula $i^{th}$
\end_inset

 cluster.
 In order to estimate the current state of the system we create the subset
 of measurements 
\begin_inset Formula $y_{0:k}^{i}\subseteq\Theta^{i}$
\end_inset

 which contains one measurement from the current time and the others are
 randomly sampled under the assumption that the system is observable using
 the measurements 
\begin_inset Formula $y_{0:k}^{i}=y_{T_{W}}^{i}$
\end_inset

.
 For the sake of clean notation, we will drop the superscript 
\begin_inset Formula $i$
\end_inset

.
\end_layout

\begin_layout Standard
LMLE estimates the joint probability of all the states in the time window,
 
\begin_inset Formula $x_{0:k}$
\end_inset

 conditioned on the measurements 
\begin_inset Formula $y_{0:k}$
\end_inset

 by maximizing the posterior probability.
 The posterior probability is 
\begin_inset Formula 
\[
p\left(x_{0:k}\mid y_{0:k}\right).
\]

\end_inset

Using Bayes rule we get
\begin_inset Formula 
\begin{align*}
p\left(x_{0:k}\mid y_{0:k}\right) & =\frac{p\left(y_{k}\mid x_{0:k},y_{0:k^{-}}\right)p\left(x_{0:k}\mid y_{0:k^{-}}\right)}{p\left(y_{k}\mid y_{0:k^{-}}\right)}.
\end{align*}

\end_inset

Since 
\begin_inset Formula $p\left(y_{k}\mid y_{0:k^{-}}\right)$
\end_inset

 does not depend on the parameters we are trying to estimate, we can replace
 it with a constant 
\begin_inset Formula $\frac{1}{\eta}$
\end_inset

 so that the posterior becomes
\begin_inset Formula 
\[
p\left(x_{0:k}\mid y_{0:k}\right)=\eta p\left(y_{k}\mid x_{0:k},y_{0:k^{-}}\right)p\left(x_{0:k}\mid y_{0:k^{-}}\right).
\]

\end_inset

Under the assumption that the system is a first order Markov process, we
 can simplify the posterior to
\begin_inset Formula 
\[
\eta p\left(y_{k}\mid x_{k}\right)p\left(x_{0:k}\mid y_{0:k^{-}}\right)=\eta p\left(y_{k}\mid x_{k}\right)p\left(x_{k}\mid x_{k^{-}}\right)p\left(x_{0:k^{-}}\mid y_{0:k^{-}}\right).
\]

\end_inset

Repeating the process recursively, we get 
\begin_inset Formula 
\[
p\left(x_{0:k}\mid y_{0:k}\right)=\eta p\left(x_{0}\right)\prod_{m=1}^{k}\left[p\left(x_{m}\mid x_{m^{-}}\right)\right]\prod_{m=0}^{k}\prod_{j=1}^{\ell\left(m\right)}\left[p\left(y_{m}^{j}\mid x_{m}\right)\right],
\]

\end_inset

where 
\begin_inset Formula $\ell\left(m\right)$
\end_inset

 is the number of measurements in 
\begin_inset Formula $y_{0:k}$
\end_inset

 that were received at time 
\begin_inset Formula $m$
\end_inset

.
\end_layout

\begin_layout Standard
Maximizing the posterior is equivalent to minimizing the negative log posterior.
 The negative log posterior is 
\begin_inset Formula 
\[
\log\left(-p\left(x_{0:k}\mid y_{1:k}\right)\right)=\log\left(-\eta\right)+\log\left(-p\left(x_{0}\right)\right)+\sum_{m=1}^{k}\log\left(-p\left(x_{m}\mid x_{m^{-}}\right)\right)+\sum_{m=0}^{k}\sum_{j=1}^{\ell\left(m\right)}\log\left(-p\left(y_{m}^{j}\mid x_{m}\right)\right).
\]

\end_inset

We can drop the term 
\begin_inset Formula $\log\left(-\eta\right)$
\end_inset

 since it will have no impact on the optimization problem.
 The term 
\begin_inset Formula $\log\left(-p\left(x_{0}\right)\right)$
\end_inset

 is negligible compared to the rest of the optimization problem since its
 probability is relatively small since the initial error covariance is big
 indicating we do not know the initial state 
\begin_inset Formula $x_{0}$
\end_inset

.
 We thus simplify the negative log posterior to 
\begin_inset Formula 
\[
\log\left(-p\left(x_{0:k}\mid y_{1:k}\right)\right)\approx\sum_{m=1}^{k}\log\left(-p\left(x_{m}\mid x_{m^{-}}\right)\right)+\sum_{m=0}^{k}\sum_{j=1}^{\ell\left(m\right)}\log\left(-p\left(y_{m}^{j}\mid x_{m}\right)\right),
\]

\end_inset

which is the minimization problem described as 
\begin_inset Formula 
\[
\arg\min_{x_{0:k}}\left(\sum_{m=1}^{k}\log\left(-p\left(x_{m}\mid x_{m^{-}}\right)\right)+\sum_{m=0}^{k}\sum_{j=1}^{\ell\left(m\right)}\log\left(-p\left(y_{m}^{j}\mid x_{m}\right)\right)\right).
\]

\end_inset

Since we are only interested in estimating the current state 
\begin_inset Formula $x_{k}$
\end_inset

 and because there is no input to the system, we simplify the problem to
 
\begin_inset Formula 
\[
\arg\min_{x_{k}}\left(\sum_{m=0}^{k}\sum_{j=1}^{\ell\left(m\right)}\log\left(-p\left(y_{m}^{j}\mid x_{k}\right)\right)\right).
\]

\end_inset

This requires constructing a map from the current state 
\begin_inset Formula $x_{k}$
\end_inset

 to a previous state 
\begin_inset Formula $x_{m}$
\end_inset

.
 We show how this is done in the next subsection.
\end_layout

\begin_layout Subsection
Model Inversion
\end_layout

\begin_layout Standard
Given the current state 
\begin_inset Formula $x_{k}$
\end_inset

 we are interested in calculating the state and output at time 
\begin_inset Formula $m<n$
\end_inset

.
 We can easily invert the system model defined in 
\begin_inset CommandInset ref
LatexCommand eqref
reference "eq:system_model"

\end_inset

.
 Ignoring the noise term, we can make the system model more generic to propagate
 the state at time 
\begin_inset Formula $m$
\end_inset

 to time 
\begin_inset Formula $k$
\end_inset

 as 
\begin_inset Formula 
\[
g_{k}=g_{m}\exp\left(\delta_{m:k}u\right).
\]

\end_inset

Solving for 
\begin_inset Formula $g_{m}$
\end_inset

 yields 
\begin_inset Formula 
\begin{align*}
g_{m} & =\exp^{-1}\left(\delta_{m:k}u\right)g_{k}\\
 & =\exp\left(-\delta_{m:k}u\right)g_{k}\\
 & =\exp\left(\delta_{k:m}u\right)g_{k}.
\end{align*}

\end_inset

Thus, the inverse of the system model is 
\begin_inset Formula 
\begin{equation}
f^{-1}\left(x_{k},\delta_{k:m}\right)=\left(\exp\left(\delta_{k:m}u+\delta_{k:m}w_{k}\right)g_{k},u\right),\label{eq:system_model_inverse}
\end{equation}

\end_inset

and the output at time 
\begin_inset Formula $m$
\end_inset

 is 
\begin_inset Formula 
\[
y_{m}=h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right).
\]

\end_inset


\end_layout

\begin_layout Standard
We are interested in the linearized likelihood of 
\begin_inset Formula $p\left(y_{m}\mid x_{k}\right)$
\end_inset

.
 Since the likelihood is conditioned on the state, the state is not a random
 variable.
 This simplifies the Taylor series of 
\begin_inset Formula 
\[
y_{m}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right),
\]

\end_inset

which is 
\begin_inset Formula 
\[
y_{m}\ominus h\left(f^{-1}\left(x_{k},\hat{w}_{k},\delta_{k:m}\right),\hat{v}_{m}\right)+G_{k:m}w_{k}+Vv_{m},
\]

\end_inset

where 
\begin_inset Formula 
\begin{align*}
G_{k:m} & =\left.\frac{\partial y_{m}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)}{\partial w_{k}}\right|_{x_{k},\hat{w}_{k},\hat{v}_{m}}=\\
 & =\left.J_{r}^{-1}\left(z\right)\mathbf{Ad}_{y_{m}^{-1}}\frac{\partial h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)}{\partial w_{k}}\right|_{x_{k},\hat{w}_{k},\hat{v}_{m}}.
\end{align*}

\end_inset

The expected value is 
\begin_inset Formula 
\[
y_{m}\ominus h\left(f^{-1}\left(x_{k},\hat{w}_{k},\delta_{k:m}\right),\hat{v}_{m}\right),
\]

\end_inset

and the covariance is 
\begin_inset Formula 
\[
G_{k:m}QG_{k:m}^{\top}+V_{m}RV_{m}^{\top}
\]

\end_inset

which we will denote as 
\begin_inset Formula $R_{k:m}$
\end_inset

.
 Therefore, the linearized probability of 
\begin_inset Formula $p\left(y_{m}\mid x_{k}\right)$
\end_inset

 is 
\begin_inset Formula 
\begin{equation}
p\left(y_{m}\mid x_{k}\right)=\eta\exp\left(-\frac{1}{2}\left(y_{m}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)\right)^{\top}R_{k:m}^{-1}\left(y_{m}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)\right)\right).\label{eq:likelihood_inverse}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Using the linearized probability, we can write the minimization problem
 as 
\begin_inset Formula 
\begin{equation}
\arg\min_{x_{k}}\left(\sum_{m=0}^{k}\sum_{j=1}^{\ell\left(m\right)}\left(y_{m}^{j}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)\right)^{\top}R_{k:m}^{-1}\left(y_{m}^{j}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)\right)\right).\label{eq:MLE_inverse}
\end{equation}

\end_inset

There are many methods that can be used to solve the optimization problem.
 If the system is linear, the optimization problem reduces to the one described
 in 
\begin_inset CommandInset citation
LatexCommand cite
key "Niedfeldt2014a"

\end_inset

.
 If the system is non-linear, the optimization problem can be solved using
 the Gauss-newton method or some other optimization method.
 Depending on the method used, you may need compute the derivative of 
\begin_inset Formula $y_{m}^{j}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)$
\end_inset

 with respect to the state.
 We denote this derivative as 
\begin_inset Formula $F_{k:m}$
\end_inset

 which is defined as 
\begin_inset Formula 
\begin{align*}
F_{k:m} & =\left.\frac{\partial y_{m}\ominus h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)}{\partial x_{k}}\right|_{\hat{x}_{k},\hat{w}_{k},\hat{v}_{m}}\\
 & =\left.J_{r}^{-1}\left(z\right)\mathbf{Ad}_{y_{m}^{-1}}\frac{\partial h\left(f^{-1}\left(x_{k},w_{k},\delta_{k:m}\right),v_{m}\right)}{\partial x_{k}}\right|_{\hat{x}_{k},\hat{w}_{k},\hat{v}_{m}}.
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
If the optimization is non-linear, a scheme to seed the optimization will
 drastically help.
 In the examples that we will present later, we will show same possible
 seeding methods.
 
\end_layout

\begin_layout Standard
Some of these calculations can be very costly.
 Can we make them cheaper or just simplify the problem by setting 
\begin_inset Formula $R_{k:m}=R$
\end_inset

 ?
\end_layout

\begin_layout Section
RANSAC
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $Y^{i}$
\end_inset

 denote the set of measurements pertaining to the 
\begin_inset Formula $i^{th}$
\end_inset

 cluster during the time window, and let 
\begin_inset Formula $y_{0:k}^{i}$
\end_inset

 be a minimum subset of 
\begin_inset Formula $Y^{i}$
\end_inset

 that contains a measurement from the current time 
\begin_inset Formula $k$
\end_inset

 and other measurements randomly sampled such that the system can be observed
 by the measurements in 
\begin_inset Formula $y_{0:k}^{i}$
\end_inset

.
 A model hypotheses is generated using the minimum subset of measurements
 with the MLE algorithm stated in 
\begin_inset CommandInset ref
LatexCommand eqref
reference "eq:MLE_inverse"

\end_inset

.
 We will denote the state estimate of the 
\begin_inset Formula $i^{th}$
\end_inset

 model hypothesis at time 
\begin_inset Formula $k$
\end_inset

 by 
\begin_inset Formula $\mu_{k}^{i}$
\end_inset

.
 Using 
\begin_inset Formula $\mu_{k}^{i}$
\end_inset

, we search 
\begin_inset Formula $Y^{i}$
\end_inset

 for inliers.
 An inlier, is a measurement within some distance of the estimated measurement
 obtained from 
\begin_inset Formula $\mu_{k}^{i}$
\end_inset

.
 Let 
\begin_inset Formula $d:N\times N\to\mathbb{R}$
\end_inset

 be a metric on the measurement space 
\begin_inset Formula $N$
\end_inset

, as described in 
\begin_inset CommandInset citation
LatexCommand cite
key "Moon2000"

\end_inset

, and let 
\begin_inset Formula $\tau_{I}\in\mathbb{R}$
\end_inset

 be a threshold, then if 
\begin_inset Formula 
\[
d\left(y_{m},\hat{y}_{m}\right)<\tau_{I},
\]

\end_inset

where 
\begin_inset Formula $\hat{y}_{m}$
\end_inset

 is the estimated measurement at time 
\begin_inset Formula $m$
\end_inset

 defined as 
\begin_inset Formula 
\[
h\left(f^{-1}\left(\mu_{k}^{i},0,\delta_{k:m}\right),0\right),
\]

\end_inset

then the measurement 
\begin_inset Formula $y_{m}$
\end_inset

 is considered an inlier to the model hypothesis.
 The past versions of R-RANSAC defined the distance metric differently.
 One possible metric is the likelihood function defined in 
\begin_inset CommandInset ref
LatexCommand eqref
reference "eq:likelihood_inverse"

\end_inset

 and selecting 
\begin_inset Formula $\tau_{I}$
\end_inset

 to be a measure of standard deviations.
 All the measurements that are inliers to the model hypothesis, are added
 to the hypothesis's consensus set.
 We define the size, not cardinality, of the consensus set as the number
 of measurements from different sources at each time step.
 For example, if a source provided ten measurements at time 
\begin_inset Formula $k$
\end_inset

 and four of them were added to the consensus set, all four of them would
 count as one.
 The purpose of this definition is to ensure that one source is not weighted
 more heavily than another.
 The model hypothesis with the largest size, provided that the size is greater
 than the threshold 
\begin_inset Formula $\tau_{T}$
\end_inset

, is kept and turned into a model via a smoothing algorithm.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Section
Centralized Measurement Fusion
\end_layout

\begin_layout Standard
R-RANSAC is a centralized tracking system that receives measurements asynchronou
sly from various measurement sources.
 Thus we rely on the centralized measurement fusion method, as discussed
 in 
\begin_inset CommandInset citation
LatexCommand cite
key "Bar-Shalom1988"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand cite
key "Millard2017"

\end_inset

, to update the state estimate when measurements are associated with the
 model.
 This method assumes that measurements are statistically independent.
 We briefly review this method here.
 Let 
\begin_inset Formula $N_{s}$
\end_inset

 denote the number of measurement sources, 
\begin_inset Formula $\theta_{m}^{i}=\left\{ y^{1},y^{2},\cdots,y^{n}\right\} $
\end_inset

 denote the set of measurements associated with the model that were received
 at time 
\begin_inset Formula $k$
\end_inset

 from the 
\begin_inset Formula $i^{th}$
\end_inset

 measurement source, 
\begin_inset Formula $\beta^{j}$
\end_inset

 be the weight associated with measurement 
\begin_inset Formula $y^{j}\in\theta_{m}^{i}$
\end_inset

, 
\begin_inset Formula $Z^{i}$
\end_inset

 be defined as 
\begin_inset Formula 
\[
Z^{i}=\begin{cases}
\sum_{y\in\theta_{m}^{i}}\beta^{j}H_{m}^{\top}R^{-1}y^{j}\ominus h\left(x_{m}\right) & \text{if }\left|\theta_{m}^{i}\right|>0\\
0 & \text{else}
\end{cases},
\]

\end_inset

and 
\begin_inset Formula $P_{m}^{i}$
\end_inset

 be the updated measurement covariance after incorporating only the measurements
 from the 
\begin_inset Formula $i^{th}$
\end_inset

 source, then the covariance update is 
\begin_inset Formula 
\[
P_{m}^{-1}=\bar{P}_{m}^{-1}+\sum_{i=1}^{N_{s}}\left(\left(P_{m}^{i}\right)^{-1}-\bar{P}_{m}^{-1}\right),
\]

\end_inset

and the state update is 
\begin_inset Formula 
\[
\hat{x}_{m}=\hat{\bar{x}}_{m}+P_{m}\sum_{i=1}^{N_{s}}Z^{i}.
\]

\end_inset


\end_layout

\begin_layout Standard
For example, if we are using a PDAF to associate measurements and update
 the state estimate, then the weights 
\begin_inset Formula $\beta^{j}$
\end_inset

 would be the weights calculated from the PDAF and 
\begin_inset Formula 
\[
P_{m}^{i}=\sum_{j=1}^{\left|\theta_{m}^{i}\right|}\beta^{j}\left(\bar{P}_{m}-KSK^{\top}\right)+\tilde{P}_{m}^{i},
\]

\end_inset

where 
\begin_inset Formula $K$
\end_inset

 is the Kalman gain, 
\begin_inset Formula $S$
\end_inset

 the innovation covariance, and 
\begin_inset Formula 
\[
\tilde{P}_{m}^{i}=K\left(\sum_{j=1}^{\left|\theta_{m}^{i}\right|}\beta^{j}\nu^{j}\left(\nu^{j}\right)^{\top}-\nu\nu^{\top}\right)K^{\top},
\]

\end_inset

where 
\begin_inset Formula $\nu^{j}=y^{j}\ominus h\left(x_{m}\right)$
\end_inset

 and 
\begin_inset Formula $\nu=\sum_{j=1}^{\left|\theta_{m}^{i}\right|}\nu^{j}$
\end_inset

.
\end_layout

\begin_layout Section
Track to Track Fusion
\end_layout

\begin_layout Standard
In the case where R-RANSAC initializes two different tracks and later decides
 that the two tracks represent the same target, the tracks need to be fused
 (merged) together.
 Calculating the cross covariance needed to optimally fuse the two tracks
 can be computationally complex and time expensive, or in our case unknown.
 Fortunately, the covariance intersection (CI) method can be used to fuse
 two tracks together without calculating the cross covariance.
 A good introduction to the CI method is presented in 
\begin_inset CommandInset citation
LatexCommand cite
key "Deng2012"

\end_inset

.
 Bar-Shalom, in 
\begin_inset CommandInset citation
LatexCommand cite
key "Bar-Shalom2011"

\end_inset

, pointed out that the CI method is so conservative in its estimation that
 it can indicate degradation of the state estimate due to fusion, i.e.
 the fused error covariance is larger than the original.
 
\end_layout

\begin_layout Section
Filtering
\end_layout

\begin_layout Standard
Just start at 
\begin_inset Formula $x_{0}$
\end_inset

 with 
\begin_inset Formula $P_{0}$
\end_inset

 and apply the Kalman prediction and update until you have incorporated
 all the measurements and the state is now 
\begin_inset Formula $x_{k}$
\end_inset

.
 You could apply a smoothing technique, but that could be costly.
 
\end_layout

\begin_layout Section
Example 
\begin_inset Formula $\mathbb{R}^{2}$
\end_inset


\end_layout

\begin_layout Section
Constrained Problem for SE(n)
\end_layout

\begin_layout Standard
The LMLE presented in the previous section relied on the measurement being
 an element of the group.
 This is not always possible depending on the sensors available.
 In this section we assume that the system can be modeled on the manifold
 
\begin_inset Formula $SE\left(n\right)$
\end_inset

, only the position of the system is observable, system has constant angular
 and translational velocity.
 
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $x\in SE\left(n\right)$
\end_inset

, then 
\begin_inset Formula $x$
\end_inset

 can be written in matrix form as 
\begin_inset Formula 
\[
x=\begin{bmatrix}R & P\\
0_{n\times1} & 1
\end{bmatrix},
\]

\end_inset

where 
\begin_inset Formula $R\in SO\left(n\right)$
\end_inset

 represents the attitude and 
\begin_inset Formula $P\in\mathbb{R}^{n}$
\end_inset

 represents the position.
 
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $u\in\mathfrak{se}\left(n\right)$
\end_inset

, then 
\begin_inset Formula $u$
\end_inset

 can be written in matrix form as 
\begin_inset Formula 
\[
u=\begin{bmatrix}\omega & \rho\\
0_{n\times1} & 0
\end{bmatrix},
\]

\end_inset

where 
\begin_inset Formula $\omega\in\mathfrak{so}\left(n\right)$
\end_inset

 represents the angular velocity in the body frame, and 
\begin_inset Formula $\rho\in\mathbb{R}^{n}$
\end_inset

 denotes the translational velocity in the body frame.
 
\end_layout

\begin_layout Standard
The system can be described as
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{subequations}
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "eq:system_se_n"

\end_inset

 
\begin_inset Formula 
\begin{align}
x_{k} & =x_{k-1}\boxplus\left(\delta_{k}u+\delta_{k}w_{k}\right)\\
y_{k} & =x_{k}C+v_{k},
\end{align}

\end_inset


\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{subequations}
\end_layout

\end_inset

where 
\begin_inset Formula 
\[
C=\begin{bmatrix}0\\
0\\
0\\
1
\end{bmatrix}
\]

\end_inset

so that 
\begin_inset Formula $y_{k}\in\mathbb{R}^{n+1}$
\end_inset

.
 We can write the output at time 
\begin_inset Formula $k$
\end_inset

 as 
\begin_inset Formula 
\begin{align*}
y_{k} & =x_{k-1}\boxplus\left(\delta_{k}u+\delta_{k}w_{k}\right)C+v_{k}\\
 & =x_{k-1}\exp\left(\delta_{k}u+\delta_{k}w_{k}\right)C+v_{k}.
\end{align*}

\end_inset

Since 
\begin_inset Formula $w_{k}\in\mathfrak{se}\left(n\right)$
\end_inset

 we can represent it as 
\begin_inset Formula 
\[
w_{k}=\begin{bmatrix}\nu & \eta\\
0 & 0
\end{bmatrix},
\]

\end_inset

where 
\begin_inset Formula $\omega\in\mathfrak{so}\left(n\right)$
\end_inset

 and 
\begin_inset Formula $\eta\in\mathbb{R}^{n}$
\end_inset

.
\end_layout

\begin_layout Standard
Using the exponential map, we can write 
\begin_inset Formula 
\[
x_{k-1}\exp\left(\delta_{k}u+\delta_{k}w_{k}\right)
\]

\end_inset

as
\begin_inset Formula 
\begin{align*}
\begin{bmatrix}R_{k-1} & P_{k-1}\\
0 & 1
\end{bmatrix}\begin{bmatrix}\exp\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right) & V\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)\\
0 & 1
\end{bmatrix}\\
=\begin{bmatrix}R_{k-1}\exp\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right) & P_{k-1}+R_{k-1}V\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)\\
0 & 1
\end{bmatrix}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Let 
\begin_inset Formula $v\in\mathfrak{so}\left(n\right)$
\end_inset

, 
\begin_inset Formula $\theta=\left\Vert v\right\Vert $
\end_inset

, and 
\begin_inset Formula $I$
\end_inset

 be the identity matrix, then 
\begin_inset Formula 
\[
V\left(v\right)=I+\left(\frac{1-\cos\left(\theta\right)}{\theta^{2}}\right)v+\left(\frac{\theta-\sin\left(\theta\right)}{\theta^{3}}\right)v^{2}.
\]

\end_inset


\end_layout

\begin_layout Standard
Using the expanded from, we get that 
\begin_inset Formula 
\[
x_{k-1}\exp\left(\delta_{k}u+\delta_{k}w_{k}\right)C=P_{k-1}+R_{k-1}V\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right),
\]

\end_inset

thus 
\begin_inset Formula 
\[
y_{k}=P_{k-1}+R_{k-1}V\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)+v_{k}.
\]

\end_inset

Notice that 
\begin_inset Formula $\nu_{k}$
\end_inset

 acts like a small deviation from 
\begin_inset Formula $\omega_{k}$
\end_inset

.
 We can approximate 
\begin_inset Formula $V\left(\delta_{k}\left(\omega_{k}+\nu_{k}\right)\right)$
\end_inset

 by taking it's Taylor series expansion.
 The series form for 
\begin_inset Formula $V\left(v\right)$
\end_inset

 is 
\begin_inset Formula 
\[
V=I+\frac{v}{2!}+\frac{v^{2}}{3!}+\frac{v^{3}}{4!}+\cdots,
\]

\end_inset

thus 
\begin_inset Formula 
\begin{align*}
\frac{\partial V}{\partial v} & =\frac{I}{2!}+\frac{2v}{3!}+\frac{3v^{2}}{4!}+\frac{4v^{3}}{5!}+\cdots\\
 & =\frac{I}{2}+\sum_{i=0}^{\infty}\frac{\left(2i+2\right)v^{2i+1}}{\left(2i+3\right)!}+\sum_{i=0}^{\infty}\frac{\left(2i+3\right)v^{2i+2}}{\left(2i+4\right)!}\\
 & =\frac{I}{2}+\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+3\right)!}v+\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+4\right)!}v^{2}.
\end{align*}

\end_inset

Notice that 
\begin_inset Formula 
\[
\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+3\right)!}
\]

\end_inset

is similar to the Taylor Series of the 
\begin_inset Formula $\sin$
\end_inset

 function.
 We are going to manipulate it to get a closed form by first multiplying
 it by 
\begin_inset Formula $\left(-1\right)\left(-1\right)\frac{\theta^{2}}{\theta^{2}}$
\end_inset

 and adding and subtracting 
\begin_inset Formula $\frac{\sin\left(\theta\right)}{\theta^{3}}$
\end_inset

 to it.
 
\begin_inset Formula 
\begin{align*}
\left(-1\right)\left(-1\right)\frac{\theta^{3}}{\theta^{3}}\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+3\right)!} & =\frac{-1}{\theta^{3}}\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i+1}\theta^{2i+3}}{\left(2i+3\right)!}\\
 & =\frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{1}{\theta^{3}}\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i+1}\theta^{2i+3}}{\left(2i+3\right)!}\\
 & \frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{1}{\theta^{3}}\left(\sum_{i=0}^{\infty}\frac{\left(-1\right)^{i}x^{2i+1}}{\left(2n+1\right)!}+\sum_{i=0}^{\infty}\frac{\left(2i+2\right)\left(-1\right)^{i+1}\theta^{2i+3}}{\left(2i+3\right)!}\right)\\
 & =\frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{1}{\theta^{3}}\theta\sum_{i=0}^{\infty}\frac{\left(-1\right)^{n}\theta^{2i}}{2i!}\\
 & =\frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{1}{\theta^{2}}\cos\left(\theta\right).
\end{align*}

\end_inset

Next we are going to do a similar process to 
\begin_inset Formula 
\[
\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+4\right)!}
\]

\end_inset

in order to get a closed form solution.
 We are going to first multiply it by 
\begin_inset Formula $\frac{\theta^{4}}{\theta^{4}}$
\end_inset

 and then adding and subtracting 
\begin_inset Formula $\frac{\cos\left(\theta\right)}{\theta^{4}}$
\end_inset

 to it 
\begin_inset Formula 
\begin{align*}
\frac{\theta^{4}}{\theta^{4}}\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i}}{\left(2i+4\right)!} & =\frac{1}{\theta^{4}}\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i+4}}{\left(2i+4\right)!}\\
 & =\frac{-\cos\left(\theta\right)}{\theta^{4}}+\frac{\cos\left(\theta\right)}{\theta^{4}}+\frac{1}{\theta^{4}}\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i+4}}{\left(2i+4\right)!}\\
 & =\frac{-\cos\left(\theta\right)}{\theta^{4}}+\frac{1}{\theta^{4}}\left(\sum_{i=0}^{\infty}\frac{\left(-1\right)^{i}\theta^{2i}}{2i!}+\sum_{i=0}^{\infty}\frac{\left(2i+3\right)\left(-1\right)^{i}\theta^{2i+4}}{\left(2i+4\right)!}\right)\\
 & =\frac{-\cos\left(\theta\right)}{\theta^{4}}+\frac{1}{\theta^{4}}\left(1+\frac{\theta^{2}}{2}-\theta\sin\left(\theta\right)\right)\\
 & =\frac{1-\cos\left(\theta\right)}{\theta^{4}}-\frac{\sin\left(\theta\right)}{\theta^{3}}+\frac{1}{2\theta^{2}}.
\end{align*}

\end_inset

Combining everything together we get 
\begin_inset Formula 
\[
\frac{\partial V}{\partial v}=\frac{I}{2}+\left(\frac{\sin\left(\theta\right)}{\theta^{3}}-\frac{1}{\theta^{2}}\cos\left(\theta\right)\right)v+\left(\frac{1-\cos\left(\theta\right)}{\theta^{4}}-\frac{\sin\left(\theta\right)}{\theta^{3}}+\frac{1}{2\theta^{2}}\right)v^{2}.
\]

\end_inset

We can now approximate the observed position 
\begin_inset Formula 
\[
y_{k}\approx P_{k-1}+R_{k-1}V\left(\delta_{k}\left(\omega_{k}\right)\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)+\frac{\partial V}{\partial v}\left(\delta\omega_{k}\right)\delta_{k}\nu_{k}\delta_{k}\left(\rho_{k}+\eta_{k}\right)+v_{k}.
\]

\end_inset

We will make one last simplification to get the final output by assuming
 that 
\begin_inset Formula $\delta_{k}^{2}v_{k}\eta_{k}$
\end_inset

 is negligible relative to everything else.
 
\begin_inset Formula 
\begin{align*}
y_{k} & \approx P_{k-1}+R_{k-1}V\left(\delta_{k}\omega_{k}\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)+\frac{\partial V}{\partial v}\left(\delta_{k}\omega_{k}\right)\delta_{k}^{2}\nu_{k}\rho_{k}+v_{k}\\
 & =P_{k-1}+R_{k-1}V\left(\delta_{k}\omega_{k}\right)\delta_{k}\left(\rho_{k}+\eta_{k}\right)-\frac{\partial V}{\partial v}\left(\delta_{k}\omega_{k}\right)\delta_{k}^{2}\rho_{k}^{\wedge}\nu_{k}^{\vee}+v_{k}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Calculating the mean and covariance under the assumption that 
\begin_inset Formula $E\left[\nu_{k}\eta_{k}^{\top}\right]=0$
\end_inset

 yields
\begin_inset Formula 
\begin{align*}
E\left[y_{k}\mid x_{k-1}\right] & =P_{k-1}+R_{k-1}V\left(\delta_{k}\left(\omega_{k}\right)\right)\delta_{k}\rho_{k}\\
\text{cov}\left(y_{k},y_{k}\mid x_{k-1}\right) & =\delta_{k}^{2}R_{k-1}^{\top}V\left(\delta_{k}\omega_{k}\right)E\left[\eta_{k}\eta_{k}^{\top}\right]V\left(\delta_{k}\omega_{k}\right)^{\top}R_{k-1}^{\top}+\delta_{k}^{4}\frac{\partial V}{\partial v}\left(\delta_{k}\omega_{k}\right)\rho_{k}^{\wedge}E\left[\nu_{k}^{\vee}\left(\nu_{k}^{\vee}\right)^{\top}\right]\left(\rho_{k}^{\wedge}\right)^{\top}\frac{\partial V}{\partial v}\left(\delta_{k}\omega_{k}\right)^{\top}+E\left[v_{k}v_{k}^{\top}\right].
\end{align*}

\end_inset

In order to calculate the LMLE, we need 
\begin_inset Formula $p\left(y_{k-n}\mid x_{k}\right)$
\end_inset

.
 This easily follows from the results above.
\begin_inset Formula 
\begin{align*}
E\left[y_{k-n}\mid x_{k}\right] & =P_{k}-\Delta_{k-n}R_{k}V\left(-\Delta_{k-n}\omega\right)\rho\\
\text{cov}\left(y_{k-n},y_{k-n}\mid x_{k}\right) & =\Delta_{k-n}^{2}R_{k}V\left(-\Delta_{k-n}\omega_{k}\right)E\left[\eta_{k}\eta_{k}^{\top}\right]V\left(-\Delta_{k-n}\omega_{k}\right)^{\top}R_{k}^{\top}+\Delta_{k-n}^{4}\frac{\partial V}{\partial v}\left(-\Delta_{k-n}\omega_{k}\right)\rho_{k}^{\wedge}E\left[\nu_{k}^{\vee}\left(\nu_{k}^{\vee}\right)^{\top}\right]\left(\rho_{k}^{\wedge}\right)^{\top}\frac{\partial V}{\partial v}\left(-\Delta_{k-n}\omega_{k}\right)^{\top}+E\left[v_{k}v_{k}^{\top}\right]\\
 & =\bar{Q}+R.
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
Once again, we can represent 
\begin_inset Formula $R_{k}$
\end_inset

 in terms on an element in the Lie algebra so that 
\begin_inset Formula $R_{k}=\exp\left(\tau_{k}\right)$
\end_inset

.
 Thus the LMLE is 
\begin_inset Formula 
\[
\text{arg}\min_{P_{k},\tau_{k},\omega_{k},\rho_{k}}\sum_{n=1}^{k}\left(y_{k-n}-\hat{y}_{k-n}\right)^{\top}\left(\bar{Q}+R\right)^{-1}\left(y_{k-n}-\hat{y}_{k-n}\right).
\]

\end_inset

The question remains under what conditions is the system observable.
 
\end_layout

\begin_layout Subsection
Observability
\end_layout

\begin_layout Standard
In order to calculate the observability of the system, we are going to model
 the system in an alternate, continuous-time, equivalent form.
 Let the state of the system at time 
\begin_inset Formula $t$
\end_inset

 be 
\begin_inset Formula 
\[
x=\begin{bmatrix}\tau\\
P\\
\omega\\
\rho_{x}
\end{bmatrix},
\]

\end_inset

where 
\begin_inset Formula $R=\exp\left(\tau^{\wedge}\right)$
\end_inset

 is the attitude, 
\begin_inset Formula $P$
\end_inset

 is the position, 
\begin_inset Formula $\omega$
\end_inset

 is the angular velocity in the body frame, and 
\begin_inset Formula $\rho_{x}$
\end_inset

 is the translational velocity along the x-axis.
 We assume that 
\begin_inset Formula $\rho_{y}=\rho_{z}=0$
\end_inset

.
 The kinematics for 
\begin_inset Formula $SE\left(3\right)$
\end_inset

 is 
\begin_inset Formula 
\[
\begin{bmatrix}\dot{R} & \dot{P}\\
0 & 0
\end{bmatrix}=\begin{bmatrix}\exp\left(\tau^{\wedge}\right) & P\\
0 & 1
\end{bmatrix}\begin{bmatrix}\omega^{\wedge} & \rho\\
0 & 0
\end{bmatrix},
\]

\end_inset

whose solution is 
\begin_inset Formula 
\[
\begin{bmatrix}\exp\left(\tau^{\wedge}\right)\exp\left(\delta\omega^{\wedge}\right) & P+\delta RV\left(\delta\omega^{\wedge}\right)\rho\\
0 & 1
\end{bmatrix}.
\]

\end_inset

An equivariant flow on the Lie algebra for the rotation is 
\begin_inset Formula 
\[
\log\left(\exp\left(\tau^{\wedge}\right)\exp\left(\delta\omega^{\wedge}\right)\right),
\]

\end_inset

taking the derivative with respect to time yields 
\begin_inset Formula 
\[
\left(J_{r}^{-1}\left(\tau^{\wedge}\right)\omega\right)^{\wedge}.
\]

\end_inset

Thus, the state derivative is 
\begin_inset Formula 
\[
\dot{x}=\begin{bmatrix}J_{r}^{-1}\left(\tau^{\wedge}\right)\omega\\
\exp\left(\tau^{\wedge}\right)\rho\\
0\\
0
\end{bmatrix}.
\]

\end_inset

We are assuming that we can only observe the position of the system, thus
 
\begin_inset Formula 
\[
y=Cx,
\]

\end_inset

where 
\begin_inset Formula 
\[
C=\begin{bmatrix}0_{3\times3} & I_{3\times3} & 0_{3\times3} & 0_{3\times1}\end{bmatrix}.
\]

\end_inset


\end_layout

\begin_layout Standard
The observability of a nonlinear system can only be determined locally using
 the Lie derivatives.
 Let 
\begin_inset Formula 
\begin{align*}
\dot{x} & =f\left(x\right),\\
y & =h\left(x\right),
\end{align*}

\end_inset

then the observability matrix is calculated as follows:
\begin_inset Formula 
\[
A=\begin{bmatrix}L_{f}^{0}h\\
L_{f}^{1}h\\
L_{f}^{2}h\\
L_{f}^{3}h\\
\vdots\\
L_{f}^{n}h
\end{bmatrix},
\]

\end_inset

and 
\begin_inset Formula 
\[
\mathcal{O}=\frac{\partial A}{\partial x}.
\]

\end_inset


\end_layout

\begin_layout Standard
If the matrix 
\begin_inset Formula $\mathcal{O}$
\end_inset

 is full rank after, then the system is locally observable.
 We are going to calculate the first four terms of the matrix 
\begin_inset Formula $A$
\end_inset


\begin_inset Formula 
\[
A=\begin{bmatrix}P\\
\exp\left(\tau^{\wedge}\right)\rho\\
G\left(\tau,\rho\right)J_{r}^{-1}\left(\alpha\right)\omega\\
L_{f}^{3}h
\end{bmatrix}.
\]

\end_inset

The calculations become very tedious by hand, so we used MATLAB to calculate
 
\begin_inset Formula $L_{f}^{3}h$
\end_inset

 and the matrix 
\begin_inset Formula $\mathcal{O}$
\end_inset

 for us.
 We found that the system is observable under the conditions that 
\begin_inset Formula $\rho_{x}\neq0$
\end_inset

, and 
\begin_inset Formula $\omega_{y}$
\end_inset

 or 
\begin_inset Formula $\omega_{z}$
\end_inset

 are non zero.
 
\end_layout

\begin_layout Subsection
Seeding
\end_layout

\begin_layout Standard
When seeding the algorithm , we are going to ignore the probability aspect
 of the system.
 We also assume that the measurement 
\begin_inset Formula $y_{k}$
\end_inset

 is available, that the body velocity is 
\begin_inset Formula $\rho=\left[x,0,0\right]^{\top}$
\end_inset

 with 
\begin_inset Formula $x$
\end_inset

 being positive, and that we have at least three distinct measurements.
 Under these assumptions, the system will either move in a straight line
 if the angular velocity is 
\begin_inset Formula $0$
\end_inset

 or orbit if it is non zero.
 
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
z_{1}=\left(y_{k}-y_{k-1}\right)/\Delta_{k-1} & =R_{k}V\left(\Delta_{k-1}\omega\right)\rho\\
z_{2}=\left(y_{k}-y_{k-2}\right)/\Delta_{k-2} & =R_{k}V\left(\Delta_{k-2}\omega\right)\rho\\
z_{3}=\left(y_{k}-y_{k-3}\right)/\Delta_{k-3} & =R_{k}V\left(\Delta_{k-3}\omega\right)\rho
\end{align*}

\end_inset


\end_layout

\begin_layout Section
Derivative
\end_layout

\begin_layout Standard
Let 
\begin_inset Formula 
\[
v=\begin{bmatrix}v_{1}\\
v_{2}\\
v_{3}
\end{bmatrix},\quad p=\begin{bmatrix}p_{1}\\
p_{2}\\
p_{3}
\end{bmatrix},\quad\theta=\sqrt{v^{\top}v}.
\]

\end_inset

Consider the Rodriquez formula for the exponential matrix 
\begin_inset Formula 
\[
\exp\left(v^{\wedge}\right)=I+\frac{\sin\left(\theta\right)}{\theta}v^{\wedge}+\frac{1-\cos\left(\theta\right)}{\theta^{2}}\left(v^{\wedge}\right)^{2},
\]

\end_inset

then 
\begin_inset Formula 
\[
\frac{d\exp\left(v^{\wedge}\right)p}{dv}=\alpha\left(\theta\right)\left(-p\right)^{\wedge}+\beta\left(\theta\right)v^{\wedge}pv^{\top}+\gamma\left(\theta\right)G+\delta\left(\theta\right)\left(v^{\wedge}\right)^{2}pv^{\top},
\]

\end_inset

with
\begin_inset Formula 
\begin{align*}
\alpha\left(\theta\right) & =\frac{\sin\left(\theta\right)}{\theta},\\
\beta\left(\theta\right) & =\frac{\cos\left(\theta\right)}{\theta^{2}}-\frac{\sin\left(\theta\right)}{\theta^{3}},\\
\gamma\left(\theta\right) & =\frac{1-\cos\left(\theta\right)}{\theta^{2}},\\
\delta\left(\theta\right) & =\frac{\sin\left(\theta\right)}{\theta^{3}}-2\frac{1-\cos\left(\theta\right)}{\theta^{4}}\\
G & =\begin{bmatrix}v_{2}p_{2}+v_{3}p_{3} & -2v_{2}p_{1}+v_{1}p_{2} & -2v_{3}p_{1}+v_{1}p_{3}\\
v_{2}p_{1}-2v_{1}p_{2} & v_{1}p_{1}+v_{3}p_{3} & -2v_{3}p_{2}+v_{2}p_{3}\\
v_{3}p_{1}-2v_{1}p_{3} & v_{3}p_{2}-2v_{2}p_{3} & v_{1}p_{1}+v_{2}p_{2}
\end{bmatrix}
\end{align*}

\end_inset


\end_layout

\begin_layout Section
SE(2) Observability
\end_layout

\begin_layout Standard
Assume the state 
\begin_inset Formula 
\[
x=\begin{bmatrix}\alpha\\
P\\
\omega\\
\rho
\end{bmatrix},
\]

\end_inset

where 
\begin_inset Formula $R=\exp\left(\alpha^{\wedge}\right)$
\end_inset

, 
\begin_inset Formula $P$
\end_inset

 is the position, 
\begin_inset Formula $\omega$
\end_inset

 is the angular velocity and 
\begin_inset Formula $\rho$
\end_inset

 is the body 
\begin_inset Formula $x$
\end_inset

 velocity.
 The derivative is 
\begin_inset Formula 
\[
\dot{x}=\begin{bmatrix}\omega\\
\cos\left(\alpha\right)\rho\\
\sin\left(\alpha\right)\rho\\
0\\
0
\end{bmatrix}.
\]

\end_inset

Then the observability matrix is
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
O=\begin{bmatrix}0 & 1 & 0 & 0 & 0\\
0 & 0 & 1 & 0 & 0\\
-\sin\left(\alpha\right)\rho & 0 & 0 & 0 & \cos\left(\alpha\right)\\
\cos\left(\alpha\right)\rho & 0 & 0 & 0 & \sin\left(\alpha\right)\\
-\cos\left(\alpha\right)\rho\omega & 0 & 0 & -\sin\left(\alpha\right)\rho & -\sin\left(\alpha\right)\omega\\
\sin\left(\alpha\right)\rho\omega & 0 & 0 & -\cos\left(\alpha\right)\rho & -\cos\left(\alpha\right)\omega
\end{bmatrix},
\]

\end_inset

which is full rank provided that 
\begin_inset Formula $\rho,\omega\neq0$
\end_inset

.
 Thus the system is locally observable provided 
\begin_inset Formula $\rho,\omega\neq0$
\end_inset

.
\end_layout

\begin_layout Section
Formulas
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
x_{k+1} & =f\left(x_{k},u\right)+w_{k}\\
y_{k+1} & =h\left(x_{k+1}\right)+v_{k}
\end{align*}

\end_inset


\begin_inset Formula 
\[
\arg\max_{x_{0},u}p\left(x_{0}\right)\prod_{j=0}^{m}p\left(y_{j}\mid x_{j}\right)
\]

\end_inset


\end_layout

\begin_layout Appendix

\end_layout

\begin_layout Section
Quick Review of Lie Group and Lie Algebra
\end_layout

\begin_layout Subsection
Probability
\end_layout

\begin_layout Subsection
Euclidean Group 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset


\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Subsection
Special Orthogonal Group 
\begin_inset Formula $SO\left(n\right)$
\end_inset


\end_layout

\begin_layout Standard
Suppose that we can measure the pose of the system.
 That is 
\begin_inset Formula 
\[
y_{k}=x_{k}\oplus v_{k}.
\]

\end_inset

where 
\begin_inset Formula $y_{k}$
\end_inset

 is the output, 
\begin_inset Formula $x_{k}$
\end_inset

 is the state and 
\begin_inset Formula $v_{k}$
\end_inset

 is measurement noise.
 The probability of the output condition on the state is denoted 
\begin_inset Formula $p\left(y\mid x\right)$
\end_inset

 and is defined as 
\begin_inset Formula 
\[
p\left(y\mid x\right)=\eta\exp\left(-\frac{1}{2}\left(y\ominus x\right)^{\top}R^{-1}\left(y\ominus x\right)\right).
\]

\end_inset


\end_layout

\begin_layout Standard
Recall that 
\begin_inset Formula $x=\hat{x}\exp\left(\delta x\right)$
\end_inset

.
 We do not know 
\begin_inset Formula $x$
\end_inset

 exactly but we have our estimate 
\begin_inset Formula $\hat{x}$
\end_inset

.
 Thus we want to estimate 
\begin_inset Formula $\left(y\ominus x\right)$
\end_inset

 using the Taylor series expansion around 
\begin_inset Formula $\hat{x}$
\end_inset

.
\end_layout

\begin_layout Standard
We can approximate the probability by computing the Taylor series of 
\begin_inset Formula $\left(y\ominus x\right)$
\end_inset

.
\begin_inset Formula 
\begin{align*}
\frac{\partial y\ominus x}{\partial x} & =\frac{\partial\log\left(x^{-1}y\right)}{\partial x}\\
 & =J_{r}^{-1}\left(\log\left(x^{-1}y\right)\right)\left(\mathbf{Ad}_{y}^{-1}\right)\left(-\mathbf{Ad}_{x}\right)\\
 & =-J_{r}^{-1}\left(\log\left(x^{-1}y\right)\right)\mathbf{Ad}y^{-1}x\\
 & =-J_{r}^{-1}\left(\log\left(x^{-1}y\right)\mathbf{Ad}_{\left(xy\right)^{-1}}\right)\\
 & =-J_{l}^{-1}\left(\log\left(x^{-1}y\right)\right).
\end{align*}

\end_inset

Using a first order Taylor series expansion, we can approximate 
\begin_inset Formula $p\left(y\mid x\right)$
\end_inset

 as 
\begin_inset Formula 
\[
p\left(y\mid x\right)\approx\eta\exp\left(-\frac{1}{2}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)^{\top}R^{-1}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)\right).
\]

\end_inset

Our objective is to calculate the posterior 
\begin_inset Formula $p\left(x\mid y\right)$
\end_inset

.
 Using Bayes rule we get 
\begin_inset Formula 
\[
p\left(x\mid y\right)=\frac{p\left(y\mid x\right)p\left(x\right)}{p\left(y\right)}.
\]

\end_inset

Since we are trying to maximize the posterior probability we can write 
\begin_inset Formula $p\left(x\mid y\right)$
\end_inset

 as 
\begin_inset Formula 
\[
p\left(x\mid y\right)=\eta p\left(y\mid x\right)p\left(x\right).
\]

\end_inset

Note that 
\begin_inset Formula 
\begin{align*}
p\left(y\mid x\right)p\left(x\right) & \approx\eta\exp\left(-\frac{1}{2}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)^{\top}R^{-1}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)\right)\exp\left(-\frac{1}{2}\delta x^{\top}P^{-1}\delta x\right)\\
 & =\eta\exp\left(-\frac{1}{2}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)^{\top}R^{-1}\left(y\ominus x-J_{l}^{-1}\left(y\ominus x\right)\delta x\right)-\frac{1}{2}\delta x^{\top}P^{-1}\delta x\right).
\end{align*}

\end_inset

We are interested in maximizing the posterior distribution.
 To do this we 
\begin_inset Formula 
\[
\frac{\partial L}{\partial\delta x}=e^{\top}R^{-1}J_{l}^{-1}\left(e\right)+\delta x^{\top}\left(J_{l}^{-1}\left(e\right)\right)^{\top}R^{-1}J_{l}^{-1}\left(e\right)+\delta x^{\top}P^{-1}.
\]

\end_inset

where 
\begin_inset Formula $e=y\ominus x$
\end_inset

.
 Setting it to zero and solving for 
\begin_inset Formula $\delta x$
\end_inset

 we get 
\begin_inset Formula 
\[
\delta x=\left(\left(J_{l}^{-1}\left(e\right)\right)^{\top}R^{-1}J_{l}^{-1}\left(e\right)+P^{-1}\right)\left(J_{l}^{-1}\left(e\right)\right)^{\top}R^{-1}e.
\]

\end_inset

Which can be written as 
\begin_inset Formula 
\[
\delta x=Ke
\]

\end_inset

where 
\begin_inset Formula 
\begin{align*}
S & =\left(J_{l}^{-1}\left(e\right)\right)P\left(J_{l}^{-1}\left(e\right)\right)^{\top}+R\\
K & =P\left(J_{l}^{-1}\left(e\right)\right)^{\top}S^{-1}.
\end{align*}

\end_inset

 
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Subsection
Special Euclidean Group 
\begin_inset Formula $SE\left(n\right)$
\end_inset


\end_layout

\begin_layout Standard
We begin with the definition of a Lie Group taken from 
\begin_inset CommandInset citation
LatexCommand cite
key "Lee"

\end_inset

.
\end_layout

\begin_layout Definition
A 
\series bold
Lie group
\series default
 is a smooth manifold 
\begin_inset Formula $G$
\end_inset

 that is also a group in the algebraic sens, with the property that the
 multiplication map 
\begin_inset Formula $m:G\times G\to G$
\end_inset

 and inversion map 
\begin_inset Formula $i:G\to G$
\end_inset

, given by 
\begin_inset Formula 
\[
m\left(g,h\right)=g\bullet h,\quad i\left(g\right)=g^{-1}
\]

\end_inset

are both smooth where 
\begin_inset Formula $\bullet$
\end_inset

 denotes the group operation.
\end_layout

\begin_layout --Separator--

\end_layout

\begin_layout Standard
Some examples of Lie groups that we focus on are the Euclidean space 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

 with the group operation being addition and the inverse being the additive
 inverse, the special orthogonal group of dimension 
\begin_inset Formula $n$
\end_inset

, 
\begin_inset Formula $SO\left(n\right)$
\end_inset

 with the group operation being matrix multiplication and the inverse being
 the matrix inverse.
 , and the special Euclidean group of dimension 
\begin_inset Formula $n$
\end_inset

,
\begin_inset Formula $SE\left(n\right)$
\end_inset

 with the group operation being matrix multiplication and the inverse being
 the matrix inverse.
 
\end_layout

\begin_layout Standard
Every Lie group has a corresponding Lie algebra.
 Depending on the author, the Lie algebra is defined differently but equivalentl
y.
 We define it according to 
\begin_inset CommandInset citation
LatexCommand cite
key "Abraham1998"

\end_inset

 and 
\begin_inset CommandInset citation
LatexCommand cite
key "Lee"

\end_inset

.
\end_layout

\begin_layout Definition
The 
\series bold
Lie algebra
\series default
 
\begin_inset Formula $\mathfrak{g}$
\end_inset

 of a Lie group 
\begin_inset Formula $G$
\end_inset

 is the set of all left invariant vector fields endowed with the Lie bracket.
 The Lie algebra is isomorphic to the tangent space of the Lie group at
 identity.
 
\end_layout

\begin_layout Standard
The Lie algebra is also isomorphic to the canonical coordinates of the 1st
 kind 
\begin_inset CommandInset citation
LatexCommand cite
key "Engo2000"

\end_inset

 or exponential coordinates of the first kind 
\begin_inset CommandInset citation
LatexCommand cite
key "Bullo2005"

\end_inset

.
 We will overload the term Lie algebra to mean the set of all left invariant
 vector fields, the tangent space of the Lie group at identity or the canonical
 coordinates of the 1st kind and we rely on the context to make clear which
 isomorphic space of the Lie algebra we are referring to.
 
\end_layout

\begin_layout Standard
Some examples of Lie algebras that we focus on is the Lie algebra of 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

 which is 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

 equipped with the Lie bracket 
\begin_inset Formula $\left[\cdot,\cdot\right]:\mathbb{R}^{n}\times\mathbb{R}^{n}\to\mathbb{R}^{n}$
\end_inset

 defined by 
\begin_inset Formula $\left(a,b\right)\mapsto\left[a\right]_{\times}b$
\end_inset

; the Lie algebra of 
\begin_inset Formula $SO\left(n\right)$
\end_inset

 which is the set of skew symmetric matrices of dimension 
\begin_inset Formula $n$
\end_inset

 denoted as 
\begin_inset Formula $\mathfrak{so}\left(n\right)$
\end_inset

 equipped with the Lie bracket 
\begin_inset Formula $\left[\cdot,\cdot\right]:\mathfrak{so}\left(n\right)\times\mathfrak{so}\left(n\right)\to\mathfrak{so}\left(n\right)$
\end_inset

 defined by 
\begin_inset Formula $\left(a,b\right)\mapsto ab-ba$
\end_inset

; the Lie algebra of 
\begin_inset Formula $SE\left(n\right)$
\end_inset

 which is 
\begin_inset Formula $\mathfrak{se}\left(n\right)=\left\{ \begin{bmatrix}\omega & \rho\\
0_{n\times1} & 0_{1\times1}
\end{bmatrix}\,:\,\omega\in\mathfrak{so\left(n\right)}\text{ and }\rho\in\mathbb{R}^{n}\right\} $
\end_inset

.
 
\end_layout

\begin_layout Standard
The exponential map is the function 
\begin_inset Formula $\exp:\mathfrak{g}\to G$
\end_inset

.
 In the case of 
\begin_inset Formula $\mathbb{R}^{n}$
\end_inset

, the 
\end_layout

\begin_layout Standard
\begin_inset CommandInset bibtex
LatexCommand bibtex
bibfiles "/home/mark/Documents/mendeley/library"
options "plain"

\end_inset


\end_layout

\end_body
\end_document
